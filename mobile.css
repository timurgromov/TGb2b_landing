/* ===== МОБИЛЬНАЯ ВЕРСИЯ (адаптация desktop стилей) ===== */

@media (max-width: 768px) {
  :root {
    /* ПРОПОРЦИИ ДЛЯ ФОТО, НЕ ДЛЯ ВИДЕО */
    --m-frame-ratio: 4/3;  /* классическое фото 4:3 */
  }

  /* ===== СОВРЕМЕННЫЙ MOBILE HERO (2025) ===== */
  
  .hero {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    padding: 32px 18px 48px 18px !important; /* отступы сверху/снизу */
  }

  .hero__grid {
    display: contents !important; /* убираем grid, используем flex */
  }

  /* === Hero фото (фиксируем квадрат даже на мобильных) === */
  .hero__photo {
    aspect-ratio: 1 / 1 !important;
    width: 100%;
    height: auto;
    overflow: hidden;
    border-radius: 0;
    order: 1 !important;
    position: relative !important;
    box-shadow: none !important; /* убираем старые тени */
  }

  .hero__photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center 15%; /* поднимает кадр ближе к лицу */
    display: block !important;
    border-radius: 0 !important; /* убираем border-radius с img */
  }

  /* Градиент снизу для читаемости текста */
  .hero__photo::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 55%;
    background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0) 100%);
    pointer-events: none;
  }

  /* Заголовок прямо на фотографии внизу */
  .hero__photo::before {
    content: "Интеллигентный ведущий на корпоратив в Москве";
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    color: #fff;
    font-size: clamp(26px, 6vw, 36px); /* УВЕЛИЧИЛИ до 36px для выразительности */
    font-weight: 800;
    line-height: 1.1; /* плотнее для баланса с лицом */
    text-shadow: 0 2px 6px rgba(0, 0, 0, 0.45); /* ФИНАЛЬНЫЙ ОПТИМАЛЬНЫЙ ВАРИАНТ */
    z-index: 2;
    pointer-events: none;
  }

  .hero__text {
    order: 2 !important;
    text-align: left !important;
    width: 100% !important;
    /* АРТЕФАКТ УДАЛЕН: margin-top: -70px - больше не нужно, заголовок теперь на фото */
    position: relative !important;
    z-index: 2 !important;
  }

  /* Скрываем оригинальный заголовок, так как он теперь на фото */
  .hero__text h1 {
    display: none !important;
  }

  .hero__cta {
    order: 3 !important;
  }
  
  /* ===== VIDEO SECTION ===== */
  
  .video-grid-fullscreen {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
    max-width: 100% !important;
    margin: 0 auto !important;
  }

  .video-fullscreen .video-wrapper {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 auto !important;
    aspect-ratio: 16/9 !important; /* как в desktop */
  }

  .video-fullscreen .video-wrapper img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important; /* заполняет контейнер, обрезает по бокам */
  }
  
  /* ===== PHOTO GALLERY FIX (РАЗ И НАВСЕГДА) ===== */
  
  /* 1) Контейнер галереи: ширина 100%, без боковых переполнений */
  .photos-slider {
    position: relative;               /* для стрелок */
    max-width: 100%;
    overflow: hidden;
    min-height: 220px;                /* минимальная высота для стрелок */
  }

  /* 2) Сам слайд — это КАДР фиксированной пропорции 4:3 */
  .photo-card {
    width: 100%;
    aspect-ratio: 4/3;
    height: auto !important;          /* сбросить любые фикс-высоты, навешанные на десктопе/JS */
    position: relative;
    overflow: hidden;                  /* чтобы ничего не торчало за рамку */
    display: block;
  }

  /* 3) Картинка заполняет кадр, по умолчанию — как горизонтальная */
  .photo-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;                 /* горизонтальные заполняют кадр */
    object-position: center;
    display: block;
    max-width: none;                   /* чтобы либы не подсунули max-width:100% и не ломали высоту */
  }

  /* 4) Для ПОРТРЕТНЫХ (вертикальных) — держим высоту, подстраиваем ширину */
  .photo-card img.is-portrait {
    object-fit: contain;               /* показывает целиком, оставляя поля слева/справа */
    background: transparent;           /* фон кадра виден по бокам */
  }

  /* 5) Стрелки/контролы — ПОСРЕДИНЕ ФОТО, перебиваем все конфликты */
  .photos-btn {
    position: absolute !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 40px !important;
    height: 40px !important;
    border-radius: 50% !important;
    background: rgba(255, 138, 76, 0.9) !important;
    border: none !important;
    z-index: 10 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  
  .photos-btn.prev {
    left: 10px !important;
  }
  
  .photos-btn.next {
    right: 10px !important;
  }
  
  /* ===== BENEFITS ===== */
  
  .benefits {
    grid-template-columns: repeat(2, 1fr) !important;
  }
  
  /* ===== SLIDER TRACKS ===== */
  
  .slider__track {
    grid-auto-columns: 90vw !important;
  }
  
  /* ===== FOOTER ===== */
  
  .footer__grid {
    grid-template-columns: 1fr !important;
  }

  /* Центрируем текст в подвале */
  .footer__brand {
    text-align: center !important;
  }

  .brand {
    text-align: center !important;
  }

  .footer__tagline {
    text-align: center !important;
  }
  
  /* ===== FOOTER: Убираем стили ссылок для ИНН и ОГРН ===== */
  
  .footer__legal a,
  .footer__legal a:link,
  .footer__legal a:visited,
  .footer__legal a:hover,
  .footer__legal a:active {
    color: var(--muted) !important;
    text-decoration: none !important;
    border-bottom: none !important;
    background: none !important;
    pointer-events: none !important;
  }

  /* ===== LETTERS SECTION ===== */
  
  .letter-card {
    width: 70% !important; /* УМЕНЬШАЕМ ШИРИНУ блока письма */
    aspect-ratio: 210/297 !important; /* A4 портрет — ВЕРТИКАЛЬНАЯ форма */
    height: auto !important;
    position: relative;
    overflow: hidden;
    display: block;
    cursor: pointer !important;
    margin: 0 auto !important; /* центрируем */
  }

  .letter-card img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: center;
    display: block;
  }

  /* ===== МОДАЛЬНОЕ ОКНО ДЛЯ ПИСЕМ С РАМКОЙ (МОБИЛКА) ===== */
  
  /* МОДАЛЬНОЕ ОКНО НА ПОЛНЫЙ ЭКРАН БЕЗ РАМОК */
  html body .modal.active,
  .modal.active {
    padding: 0 !important; /* УБИРАЕМ ВСЕ ПАДДИНГИ */
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
  }
  
  /* МЕГА-СИЛЬНЫЙ селектор для модального окна писем */
  html body #letter-modal .modal__content,
  html body .modal__content,
  #letter-modal .modal__content,
  .modal__content {
    max-width: 100vw !important; /* НА ВСЮ ШИРИНУ ВИДЕОПОРТА */
    max-height: 100vh !important; /* НА ВСЮ ВЫСОТУ ВИДЕОПОРТА */
    width: 100vw !important;
    height: 100vh !important;
    margin: 0 !important;
    padding: 0 !important;
    border-radius: 0 !important; /* УБИРАЕМ СКРУГЛЕНИЕ */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    background: white !important;
  }
  
  /* МЕГА-СИЛЬНЫЙ селектор для изображения письма */
  html body #letter-modal .letter-modal-img,
  html body #letter-modal .modal__img,
  html body .modal__img,
  #letter-modal .letter-modal-img,
  #letter-modal .modal__img,
  .modal__img {
    max-width: 100vw !important;
    max-height: 100vh !important; /* НА ВСЮ ВЫСОТУ ВИДЕОПОРТА */
    width: auto !important;
    height: auto !important;
    object-fit: contain !important;
    border-radius: 0 !important; /* УБИРАЕМ СКРУГЛЕНИЕ */
    box-shadow: none !important; /* УБИРАЕМ ТЕНИ */
  }
  
  /* ОРАНЖЕВЫЕ СТРЕЛКИ ДЛЯ ПИСЕМ (как в фотогалерее) */
  .modal__arrow {
    display: flex !important; /* показываем стрелки */
    width: 44px !important;
    height: 44px !important;
    background: var(--accent, #ff6b35) !important;
    color: white !important;
    border-radius: 50% !important;
    opacity: 1 !important;
    z-index: 1001 !important;
    position: absolute !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
  }
  
  .modal__arrow--prev {
    left: 16px !important;
  }
  
  .modal__arrow--next {
    right: 16px !important;
  }
  
  /* Первая стрелка скрыта (как в фотогалерее) */
  .modal__arrow--prev.is-first {
    opacity: 0 !important;
    pointer-events: none !important;
  }
  
  /* Кнопка закрытия */
  .modal__close {
    top: 16px !important;
    right: 16px !important;
    width: 44px !important;
    height: 44px !important;
    background: rgba(0,0,0,0.6) !important;
    color: white !important;
    border-radius: 50% !important;
    z-index: 1002 !important;
  }

  /* ===== CTA БЛОК: УБИРАЕМ ДЕФИС НА МОБИЛКЕ ===== */
  .cta__title {
    font-size: 0 !important; /* скрываем оригинальный текст */
  }
  
  .cta__title::before {
    content: "Праздники проходят впечатления остаются." !important;
    font-size: clamp(24px, 5vw, 32px) !important;
    font-family: var(--font-serif) !important;
    font-weight: 700 !important;
    line-height: 1.2 !important;
    color: var(--text) !important;
    display: block !important;
  }

  /* ===== СОКРАЩЕНИЕ ТЕКСТА ПРЕИМУЩЕСТВ НА МОБИЛКЕ ===== */
  
  /* Сокращаем "Проверенные подрядчики" */
  .benefit:nth-child(5) p {
    font-size: 0 !important; /* скрываем оригинальный текст */
  }
  
  .benefit:nth-child(5) p::before {
    content: "Кавер-группы, фото, видео — только надёжные люди." !important;
    font-size: 14px !important;
    color: var(--muted) !important;
    line-height: 1.5 !important;
    display: block !important;
  }
  
  /* Меняем заголовок "Опыт, которому доверяют" на "20 лет в профессии" */
  .benefit:nth-child(6) .title {
    font-size: 0 !important; /* скрываем оригинальный заголовок */
  }
  
  .benefit:nth-child(6) .title::before {
    content: "20 лет в профессии" !important;
    font-size: 18px !important;
    font-weight: 600 !important;
    color: var(--text) !important;
    line-height: 1.3 !important;
    display: block !important;
  }
  
  /* Сокращаем подзаголовок "Опыт, которому доверяют" */
  .benefit:nth-child(6) p {
    font-size: 0 !important; /* скрываем оригинальный текст */
  }
  
  .benefit:nth-child(6) p::before {
    content: "800+ событий, 3 года Love Radio, 10 лет КВН." !important;
    font-size: 14px !important;
    color: var(--muted) !important;
    line-height: 1.5 !important;
    display: block !important;
  }

  /* ===== СКРЫВАЕМ ТЕЛЕФОН В ХЕДЕРЕ НА МОБИЛКЕ ===== */
  .header__phone {
    display: none !important;
  }

  /* ===== ПОРЯДОК РАБОТЫ НА МОБИЛКЕ - ВЕРТИКАЛЬНЫЙ TIMELINE ===== */
  .workflow {
    padding: 4rem 0 !important;
  }

  .workflow .section__subtitle {
    font-size: 14px !important;
    margin-bottom: 2rem !important;
  }

  .workflow__steps {
    display: flex !important;
    flex-direction: column !important;
    gap: 2rem !important;
    margin: 2rem 0 !important;
    position: relative !important;
    padding-left: 2rem !important;
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
    overflow: visible !important;
  }

  .workflow__connector {
    display: none !important;
  }

  .workflow__steps::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background: rgba(255, 255, 255, 0.1);
    z-index: 1;
  }

  .workflow__steps::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 2px;
    background: var(--accent);
    height: 0%;
    animation: timeline-fill-vertical 2s ease-out 0.5s forwards;
    z-index: 2;
  }

  @keyframes timeline-fill-vertical {
    from { height: 0%; }
    to { height: 100%; }
  }

  .workflow__step {
    width: 100% !important;
    padding: 1.25rem !important;
    position: relative !important;
    text-align: left !important;
    transform: none !important;
    margin-top: 0 !important;
    background: rgba(255, 255, 255, 0.03) !important;
    border: 1px solid rgba(255, 255, 255, 0.08) !important;
    border-radius: 8px !important;
    box-shadow: 0 0 12px rgba(255, 106, 61, 0.08) !important;
    overflow: visible !important;
  }

  .workflow__step::before {
    content: '';
    position: absolute;
    left: -2.5rem;
    top: 20px;
    width: 12px;
    height: 12px;
    background: var(--accent);
    border-radius: 50%;
    z-index: 3;
  }

  .workflow__step:not(:last-child)::after {
    content: '↓';
    position: absolute;
    bottom: -1.5rem;
    left: -2.2rem;
    color: var(--accent);
    opacity: 0.5;
    font-size: 16px;
    z-index: 3;
  }

  .workflow__badge {
    position: static !important;
    display: inline-flex !important;
    width: 28px !important;
    height: 28px !important;
    font-size: 14px !important;
    margin-bottom: 0.75rem !important;
    transform: none !important;
    top: auto !important;
    left: auto !important;
  }

  .workflow__title {
    font-size: 15px !important;
    margin-bottom: 0.5rem !important;
  }

  .workflow__text {
    font-size: 13px !important;
    line-height: 1.4 !important;
  }


  /* ===== HERO: Чипсы с автоматическим переносом ===== */
  
  /* МЕГА-СИЛЬНЫЙ селектор для чипсов */
  html body #hero-left #hero-tags {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 6px !important;
    max-width: 100% !important;
    margin-top: 0 !important; /* УБИРАЕМ desktop margin-top: 14px */
    margin-bottom: 16px !important; /* Симметрия с отступом до кнопок */
  }

  #hero-tags .tag-row {
    display: contents !important; /* убираем обёртку, чтобы flex работал напрямую с .tag */
  }

  #hero-tags .tag {
    font-size: 12.5px !important;
    padding: 5px 9px !important;
  }

  /* Сокращаем текст чипа Love Radio ТОЛЬКО на мобилке */
  #hero-tags .tag-radio {
    font-size: 0 !important;
  }
  
  #hero-tags .tag-radio::before {
    content: "Ведущий Love Radio";
    font-size: 12.5px !important;
  }

  /* Убираем чип "Добрый юмор" на мобилке */
  #hero-tags .tag-humor {
    display: none !important;
  }

  /* Ещё компактнее для узких экранов (iPhone SE, малые Android) */
  @media (max-width: 390px) {
    html body #hero-left #hero-tags {
      gap: 4px !important;
      margin-bottom: 14px !important;
    }
    
    #hero-tags .tag {
      font-size: 12px !important;
      padding: 4px 8px !important;
    }
    
    /* Для чипа Love Radio текст остаётся скрытым, только ::before видим */
    #hero-tags .tag-radio {
      font-size: 0 !important;
    }
    
    #hero-tags .tag-radio::before {
      font-size: 12px !important;
    }
  }

  /* ===== HERO: Типографика и размеры ===== */
  
  #hero-left h1 {
    font-size: clamp(24px, 5.5vw, 32px) !important; /* УМЕНЬШЕННЫЙ размер */
    line-height: 1.09 !important; /* короткий межстрочный */
    margin-bottom: 12px !important;
  }
  
  #hero-left h1 .h1-prefix {
    font-size: inherit !important;
    line-height: inherit !important;
  }
  
  /* МЕГА-СИЛЬНЫЙ селектор для подзаголовка */
  html body #hero-left #hero-subtitle {
    font-size: 14px !important; /* УМЕНЬШЕННЫЙ размер */
    margin-top: 0 !important; /* УБИРАЕМ desktop margin-top: 10px */
    margin-bottom: 16px !important; /* Симметрия с отступом до кнопок */
  }
  
  /* ===== HERO: МЕГА-СИЛЬНЫЕ КНОПКИ (перебивают style.css) ===== */
  
  /* МЕГА-СИЛЬНЫЙ селектор для контейнера */
  html body #hero-left #hero-actions {
    flex-direction: column !important;
    gap: 12px !important;
    margin-top: 0 !important; /* УБИРАЕМ desktop margin-top: 36px */
    margin-bottom: 0 !important; /* УБИРАЕМ desktop margin-bottom */
    width: 100% !important;
    margin-bottom: 0 !important; /* перебиваем style.css */
  }
  
  /* МЕГА-СИЛЬНЫЙ селектор для первой кнопки */
  html body #hero-left .hero-actions .btn-primary {
    width: 100% !important;
    background: #FF7A33 !important;
    color: #fff !important;
    font-weight: 600 !important;
    font-size: 16px !important;
    padding: 16px 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 4px 14px rgba(255,122,51,0.25) !important;
    border: none !important;
    letter-spacing: 0.3px !important;
    margin: 0 !important;
    height: auto !important;
    opacity: 1 !important;
    transform: none !important;
  }
  
  /* МЕГА-СИЛЬНЫЙ селектор для второй кнопки */
  html body #hero-left .hero-actions .btn-ghost {
    width: 100% !important;
    background: transparent !important;
    color: #fff !important;
    font-weight: 600 !important;
    font-size: 16px !important;
    padding: 16px 0 !important;
    border-radius: 12px !important;
    border: 1px solid rgba(255,255,255,0.3) !important;
    letter-spacing: 0.3px !important;
    margin: 0 !important;
    height: auto !important;
    opacity: 1 !important;
    transform: none !important;
  }

}
